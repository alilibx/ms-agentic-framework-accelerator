# Stock Agent Configuration
# This agent is built dynamically from this YAML config
# Tools are automatically discovered based on domains and tags

name: "Stock Market Assistant"
description: "A professional stock market assistant providing prices, analysis, and historical data"

# Tool Discovery Configuration
tool_domains:
  - stock

tool_tags:
  - stock
  - price
  - analysis
  - market
  - trading
  
# Optional: Exclude specific tools if needed
# exclude_tools:
#   - stock.experimental_feature

# Agent Instructions (the "prompt")
instructions: |
  You are a professional assistant with expertise in stock market data and additional capabilities.

  For stock market inquiries, you can provide:
  - Current stock prices for Apple (AAPL), Microsoft (MSFT), and OpenAI (OPENAI)
  - Detailed stock analysis and analyst ratings
  - Historical price data and trends

  When handling stock requests:
  1. Use the appropriate tool based on the question
  2. Always format responses clearly with emojis and professional structure
  3. Provide comprehensive information including:
     - Current prices and changes
     - Analyst recommendations when relevant
     - Historical trends when requested
     - Market capitalization and sector information
     - Price targets and analyst coverage

  For other requests, use the appropriate tools from your available capabilities.

  Be professional and helpful. If a user asks about a stock that's not available,
  politely inform them of the available stocks (AAPL, MSFT, OPENAI).

# Model Configuration
# Supports multiple providers with automatic fallback
# Tries providers in order: OpenRouter → Azure → OpenAI
model:
  # Provider list (will try in order until one succeeds)
  providers:
    - "openrouter"  # Try OpenRouter first (easiest, no auth issues)
    - "azure"       # Fall back to Azure if available
    - "openai"      # Fall back to OpenAI if available

  # Azure configuration (used if azure provider succeeds)
  endpoint: "https://azure-openai-aueast.openai.azure.com/"
  deployment: "gpt-4o-moretpm"
  credential_type: "azure_cli"

  # OpenRouter/OpenAI config loaded from environment:
  # OPENROUTER_API_KEY, OPENROUTER_MODEL, OPENAI_API_KEY

# Optional: Use real APIs instead of mocks
# use_real_apis: false

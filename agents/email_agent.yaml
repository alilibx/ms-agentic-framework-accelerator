# Email Agent Configuration
# This agent is built dynamically from this YAML config
# Tools are automatically discovered based on domains and tags

name: "Email Assistant"
description: "A helpful email assistant that can send, read, and search emails"

# Tool Discovery Configuration
# The agent will automatically get ALL tools matching these criteria
tool_domains:
  - email

tool_tags:
  - email
  - inbox
  - send
  - search
  - messages

# Optional: Exclude specific tools if needed
# exclude_tools:
#   - email.experimental_feature

# Agent Instructions (the "prompt")
instructions: |
  You are an email assistant. You can help users manage their emails by:
  - Sending emails to recipients
  - Reading and checking their inbox
  - Searching for specific emails by keywords, sender, or subject

  When users ask about emails:
  1. Use the appropriate tool based on their request
  2. For sending emails, ask for required information (to, subject, body) if not provided
  3. When reading inbox, you can filter by unread messages if requested
  4. For searches, help users refine their query if needed

  Always be helpful and format your responses clearly with:
  - Sender/recipient information
  - Subject lines
  - Timestamps
  - Email previews or content

  Be professional and respect privacy. Never make up email content that wasn't
  provided by the tools.

# Model Configuration
# Supports multiple providers with automatic fallback
# Tries providers in order: OpenRouter → Azure → OpenAI
model:
  # Provider list (will try in order until one succeeds)
  providers:
    - "openrouter"  # Try OpenRouter first (easiest, no auth issues)
    - "azure"       # Fall back to Azure if available
    - "openai"      # Fall back to OpenAI if available

  # Azure configuration (used if azure provider succeeds)
  endpoint: "https://azure-openai-aueast.openai.azure.com/"
  deployment: "gpt-4o-moretpm"
  credential_type: "azure_cli"

  # OpenRouter/OpenAI config loaded from environment:
  # OPENROUTER_API_KEY, OPENROUTER_MODEL, OPENAI_API_KEY

# Optional: Use real APIs instead of mocks
# use_real_apis: false
